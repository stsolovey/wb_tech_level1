# Task 7: Concurrent write to map

## Реализовать конкурентную запись данных в map.

В Go, работа с map (maps) в многопоточной среде может привести к проблемам с согласованностью данных из-за их не потокобезопасности. Для решения этой проблемы можно использовать различные подходы, каждый из которых имеет свои преимущества и недостатки.

### Решение 1: sync.Map

**sync.Map** - это встроенный в Go тип, который обеспечивает потокобезопасную работу с map без необходимости использования мьютексов или каналов. Он оптимизирован для случаев, когда мапа используется в многопоточной среде и где одни и те же данные читаются чаще, чем записываются.

**Преимущества:**
- Встроенная поддержка Go.
- Оптимизирован для частого чтения и редкой записи.

**Недостатки:**
- Может быть избыточным для простых случаев использования.

### Решение 2: Каналы

Использование каналов для синхронизации записи в map является классическим способом работы с горутинами в Go. 
Этот подход предполагает передачу данных через канал, который обрабатывается отдельной горутиной, обеспечивая тем самым последовательность и синхронизацию операций.

**Преимущества:**
- Является основным способом взаимодействия между горутинами.
- Легко масштабируется и адаптируется под различные задачи.

**Недостатки:**
- Требует дополнительного кода для управления каналом и горутинами.
- Может быть менее эффективным по сравнению с sync.Map в определенных сценариях.

### Решение 3: sync.Mutex

**sync.Mutex** - это простой, но эффективный способ обеспечения потокобезопасности при работе с map. Он предотвращает одновременный доступ к map, блокируя доступ других горутин, пока одна горутина выполняет операцию.

**Преимущества:**
- Простота использования.
- Широко используется в Go для синхронизации доступа к ресурсам.

**Недостатки:**
- Блокирует все операции чтения и записи, что может снижать производительность в случае частого доступа.

### Решение 4: sync.RWMutex

**sync.RWMutex** - это более сложный, но и более эффективный тип мьютекса, который позволяет нескольким горутинам одновременно читать данные, но блокирует запись, если другая горутина уже записывает данные.

**Преимущества:**
- Обеспечивает более высокую производительность в случае частого чтения и редкой записи.
- Позволяет эффективно управлять доступом к данным.

**Недостатки:**
- Более сложный в использовании по сравнению с sync.Mutex.
